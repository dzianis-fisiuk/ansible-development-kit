---
dependency:
  name: {{ cookiecutter.dependency_name }}
  options:
    role-file: requirements.yml
driver:
  name: 'docker'
lint:
  set -e
  yamllint .
  ansible-lint .
  ansible-lint .
# lint:
#   name: {{ cookiecutter.lint_name }}
#   options:
#     config-file: .yamllint
platforms:
  - name: 'test-docker-oraclelinux7-{{ cookiecutter.role_name }}-${MOLECULE_USER:-$USER}'
    image: 'oraclelinux:7'
    pre_build_image: true
    privileged: '{{ cookiecutter.docker_privileged }}'
    groups:
      - '{{ cookiecutter.role_name }}'
    # volumes: 
    #   - '/sys/fs/cgroup:/sys/fs/cgroup:ro'
    command: '/usr/sbin/init'
    tty: true
    # environment:
    #   container: 'docker'
provisioner:
  name: ansible
  log: true
  # lint:
  #   name: {{ cookiecutter.provisioner_lint_name }}
  # config_options:
  #   defaults:
  #     callback_whitelist: profile_tasks,timer
  playbooks:
    verify: ../resources/tests/verify.yml
scenario:
  name: 'test-docker'
verifier:
  name: {{ cookiecutter.verifier_name }}
  lint:
    name: {{ cookiecutter.verifier_lint_name }}
